{"version":3,"sources":["../../../src/client/components/layout-router.tsx"],"names":["OuterLayoutRouter","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","matchSegment","hasOwnProperty","subTree","undefined","slice","findDOMNode","instance","window","process","env","NODE_ENV","originalConsoleError","console","error","messages","includes","ReactDOM","rectProperties","elementCanScroll","element","rect","getBoundingClientRect","every","item","topOfElementInViewport","viewportHeight","top","getHashFragmentDomNode","hashFragment","document","body","getElementById","getElementsByName","InnerScrollAndFocusHandler","React","Component","componentDidMount","handlePotentialScroll","componentDidUpdate","props","focusAndScrollRef","apply","render","children","isUpdate","segmentPath","segmentPaths","some","scrollRefSegmentPath","index","domNode","Element","HTMLElement","nextElementSibling","handleSmoothScroll","scrollIntoView","htmlElement","documentElement","clientHeight","scrollTop","dontForceLayout","onlyHashChange","focus","ScrollAndFocusHandler","context","useContext","GlobalLayoutRouterContext","Error","InnerLayoutRouter","parallelRouterKey","url","childNodes","childProp","tree","cacheKey","buildId","changeByServerResponse","fullTree","childNode","get","current","status","CacheStates","READY","data","subTreeData","parallelRoutes","Map","set","LAZY_INITIALIZED","refetchTree","DATA_FETCH","fetchServerResponse","URL","location","origin","nextUrl","head","flightData","overrideCanonicalUrl","use","setTimeout","startTransition","createInfinitePromise","subtree","LayoutRouterContext","Provider","value","LoadingBoundary","loading","loadingStyles","hasLoading","Suspense","fallback","errorStyles","templateStyles","template","notFound","notFoundStyles","styles","childNodesForParallelRouter","treeSegment","childPropSegment","currentChildSegmentValue","getSegmentValue","preservedSegments","map","preservedSegment","isChildPropSegment","preservedSegmentValue","createRouterCacheKey","TemplateContext","key","ErrorBoundary","errorComponent","NotFoundBoundary","RedirectBoundary","isActive"],"mappings":"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"}
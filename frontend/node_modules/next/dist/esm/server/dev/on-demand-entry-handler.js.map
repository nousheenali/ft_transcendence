{"version":3,"sources":["../../../src/server/dev/on-demand-entry-handler.ts"],"names":["origDebug","EventEmitter","findPageFile","getStaticInfoIncludingLayouts","runDependingOnPageType","join","posix","normalizePathSep","normalizePagePath","ensureLeadingSlash","removePagePathTail","reportTrigger","getRouteFromEntrypoint","isInstrumentationHookFile","isInstrumentationHookFilename","isMiddlewareFile","isMiddlewareFilename","PageNotFoundError","stringifyError","COMPILER_INDEXES","COMPILER_NAMES","RSC_MODULE_TYPES","RouteKind","debug","keys","Object","COMPILER_KEYS","treePathToEntrypoint","segmentPath","parentPath","parallelRouteKey","segment","path","startsWith","length","childSegmentPath","slice","convertDynamicParamTypeToSyntax","dynamicParamTypeShort","param","Error","getEntryKey","compilerType","pageBundleType","page","replace","getPageBundleType","pageBundlePath","getEntrypointsFromTree","tree","isFirst","parallelRoutes","currentSegment","Array","isArray","isPageSegment","currentPath","reduce","paths","key","childTree","childPages","ADDED","Symbol","BUILDING","BUILT","EntryTypes","ENTRY","CHILD_ENTRY","entriesMap","Map","normalizeOutputPath","dir","getEntries","entries","get","set","invalidators","getInvalidator","doneCallbacks","lastClientAccessPages","lastServerAccessPagesForAppDir","Invalidator","constructor","multiCompiler","building","Set","rebuildAgain","shouldRebuildAll","size","invalidate","compilerKeys","has","add","compilers","watching","startBuilding","compilerKey","doneBuilding","rebuild","delete","push","willRebuild","disposeInactiveEntries","maxInactiveAge","forEach","entryKey","entryData","lastActiveTime","status","dispose","bundlePath","type","includes","Date","now","tryToNormalizePagePath","err","console","error","findPagePathData","rootDir","extensions","pagesDir","appDir","normalizedPagePath","pagePath","isInstrumentation","pageUrl","pageKey","normalize","absolutePagePath","keepIndex","require","resolve","findRoutePathData","match","definition","filename","onDemandEntryHandler","nextConfig","pagesBufferLength","curInvalidator","outputPath","curEntries","compilation","compilationName","name","compiler","hooks","make","tap","getPagePathsFromEntrypoints","entrypoints","root","pagePaths","entrypoint","values","done","multiStats","clientStats","serverStats","edgeServerStats","stats","entryNames","client","server","edgeServer","entry","emit","pingIntervalTime","Math","max","min","setInterval","unref","handleAppDirPing","pages","toSend","invalid","entryInfo","unshift","pop","success","handlePing","pg","ensurePageImpl","clientOnly","appPaths","stalledTime","stalledEnsureTimeout","setTimeout","kind","APP_PAGE","route","pagePathData","pageExtensions","isInsideAppDir","addEntry","newEntry","shouldInvalidate","request","staticInfo","pageFilePath","isDev","config","added","isServerComponent","rsc","pageRuntime","runtime","pageType","onClient","onServer","edgeServerEntry","onEdgeServer","serverEntry","addedValues","entriesThatShouldBeInvalidated","filter","hasNewEntry","some","invalidatePromise","Promise","all","map","reject","once","needsRebuild","rebuildErr","clearTimeout","curEnsurePage","ensurePage","promise","finally","onHMR","getHmrServerError","bufferedHmrServerError","addEventListener","data","send","JSON","stringify","event","action","errorJSON","parsedData","parse","toString","result","appDirRoute","_"],"mappings":"AACA,OAAOA,eAAe,2BAA0B;AAQhD,SAASC,YAAY,QAAQ,SAAQ;AACrC,SAASC,YAAY,QAAQ,wBAAuB;AACpD,SACEC,6BAA6B,EAC7BC,sBAAsB,QACjB,sBAAqB;AAC5B,SAASC,IAAI,EAAEC,KAAK,QAAQ,OAAM;AAClC,SAASC,gBAAgB,QAAQ,gDAA+C;AAChF,SAASC,iBAAiB,QAAQ,iDAAgD;AAClF,SAASC,kBAAkB,QAAQ,kDAAiD;AACpF,SAASC,kBAAkB,QAAQ,mDAAkD;AACrF,SAASC,aAAa,QAAQ,qBAAoB;AAClD,OAAOC,4BAA4B,+BAA8B;AACjE,SACEC,yBAAyB,EACzBC,6BAA6B,EAC7BC,gBAAgB,EAChBC,oBAAoB,QACf,oBAAmB;AAC1B,SAASC,iBAAiB,EAAEC,cAAc,QAAQ,yBAAwB;AAC1E,SAEEC,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,QACX,6BAA4B;AAEnC,SAASC,SAAS,QAAQ,uBAAsB;AAGhD,MAAMC,QAAQvB,UAAU;AAExB;;CAEC,GACD,MAAMwB,OAAOC,OAAOD,IAAI;AAExB,MAAME,gBAAgBF,KAAKL;AAE3B,SAASQ,qBACPC,WAAqB,EACrBC,UAAmB,EACX;IACR,MAAM,CAACC,kBAAkBC,QAAQ,GAAGH;IAEpC,kEAAkE;IAClE,MAAMI,OACJ,AAACH,CAAAA,aAAaA,aAAa,MAAM,EAAE,AAAD,IACjCC,CAAAA,qBAAqB,cAAc,CAACC,QAAQE,UAAU,CAAC,OACpD,CAAC,CAAC,EAAEH,iBAAiB,CAAC,CAAC,GACvB,EAAE,AAAD,IACJC,CAAAA,YAAY,KAAK,SAASA,OAAO,AAAD;IAEnC,eAAe;IACf,IAAIH,YAAYM,MAAM,KAAK,GAAG;QAC5B,OAAOF;IACT,CAAC;IAED,MAAMG,mBAAmBP,YAAYQ,KAAK,CAAC;IAC3C,OAAOT,qBAAqBQ,kBAAkBH;AAChD;AAEA,SAASK,gCACPC,qBAA6C,EAC7CC,KAAa,EACb;IACA,OAAQD;QACN,KAAK;YACH,OAAO,CAAC,IAAI,EAAEC,MAAM,CAAC,CAAC;QACxB,KAAK;YACH,OAAO,CAAC,KAAK,EAAEA,MAAM,EAAE,CAAC;QAC1B,KAAK;YACH,OAAO,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC;QACrB;YACE,MAAM,IAAIC,MAAM,8BAA6B;IACjD;AACF;AAEA;;;;;;CAMC,GAED,OAAO,SAASC,YACdC,YAAgC,EAChCC,cAAwC,EACxCC,IAAY,EACZ;IACA,yCAAyC;IACzC,6FAA6F;IAC7F,OAAO,CAAC,EAAEF,aAAa,CAAC,EAAEC,eAAe,CAAC,EAAEC,KAAKC,OAAO,CAAC,eAAe,IAAI,CAAC;AAC/E,CAAC;AAED,SAASC,kBAAkBC,cAAsB,EAAE;IACjD,kCAAkC;IAClC,IAAIA,mBAAmB,WAAW,OAAO;IACzC,IAAI/B,qBAAqB+B,iBAAiB,OAAO;IACjD,OAAOA,eAAed,UAAU,CAAC,YAC7B,UACAc,eAAed,UAAU,CAAC,UAC1B,QACA,MAAM;AACZ;AAEA,SAASe,uBACPC,IAAuB,EACvBC,OAAgB,EAChBrB,aAAuB,EAAE,EACzB;IACA,MAAM,CAACE,SAASoB,eAAe,GAAGF;IAElC,MAAMG,iBAAiBC,MAAMC,OAAO,CAACvB,WACjCM,gCAAgCN,OAAO,CAAC,EAAE,EAAEA,OAAO,CAAC,EAAE,IACtDA,OAAO;IAEX,MAAMwB,gBAAgBH,eAAenB,UAAU,CAAC;IAEhD,MAAMuB,cAAc;WAAI3B;QAAY0B,gBAAgB,KAAKH,cAAc;KAAC;IAExE,IAAI,CAACF,WAAWK,eAAe;QAC7B,0CAA0C;QAC1C,OAAO;YAAC5B,qBAAqB6B,YAAYpB,KAAK,CAAC;SAAI;IACrD,CAAC;IAED,OAAOX,OAAOD,IAAI,CAAC2B,gBAAgBM,MAAM,CACvC,CAACC,OAAiBC,MAA0B;QAC1C,MAAMC,YAAYT,cAAc,CAACQ,IAAI;QACrC,MAAME,aAAab,uBAAuBY,WAAW,KAAK,EAAE;eACvDJ;YACHG;SACD;QACD,OAAO;eAAID;eAAUG;SAAW;IAClC,GACA,EAAE;AAEN;AAEA,OAAO,MAAMC,QAAQC,OAAO,SAAQ;AACpC,OAAO,MAAMC,WAAWD,OAAO,YAAW;AAC1C,OAAO,MAAME,QAAQF,OAAO,SAAQ;WA8B7B;UAAWG,UAAU;IAAVA,WAAAA,WAChBC,WAAAA,KAAAA;IADgBD,WAAAA,WAEhBE,iBAAAA,KAAAA;GAFgBF,eAAAA;AA+BlB,MAAMG,aASF,IAAIC;AAER,wDAAwD;AACxD,MAAMC,sBAAsB,CAACC,MAAgBA,IAAI3B,OAAO,CAAC,gBAAgB;AAEzE,OAAO,MAAM4B,aAAa,CACxBD,MACwD;IACxDA,MAAMD,oBAAoBC;IAC1B,MAAME,UAAUL,WAAWM,GAAG,CAACH,QAAQ,CAAC;IACxCH,WAAWO,GAAG,CAACJ,KAAKE;IACpB,OAAOA;AACT,EAAC;AAED,MAAMG,eAAyC,IAAIP;AAEnD,OAAO,MAAMQ,iBAAiB,CAACN,MAAgB;IAC7CA,MAAMD,oBAAoBC;IAC1B,OAAOK,aAAaF,GAAG,CAACH;AAC1B,EAAC;AAED,MAAMO,gBAA8B,IAAI9E;AACxC,MAAM+E,wBAAwB;IAAC;CAAG;AAClC,MAAMC,iCAAiC;IAAC;CAAG;AAK3C,oDAAoD;AACpD,6EAA6E;AAC7E,MAAMC;IAMJC,YAAYC,aAAoC,CAAE;aAH1CC,WAA4B,IAAIC;aAChCC,eAA+B,IAAID;QAGzC,IAAI,CAACF,aAAa,GAAGA;IACvB;IAEOI,mBAAmB;QACxB,OAAO,IAAI,CAACD,YAAY,CAACE,IAAI,GAAG;IAClC;IAEAC,WAAWC,eAAqCjE,aAAa,EAAQ;QACnE,KAAK,MAAMiC,OAAOgC,aAAc;gBAY9B;YAXA,+EAA+E;YAC/E,sDAAsD;YACtD,sDAAsD;YACtD,gDAAgD;YAEhD,IAAI,IAAI,CAACN,QAAQ,CAACO,GAAG,CAACjC,MAAM;gBAC1B,IAAI,CAAC4B,YAAY,CAACM,GAAG,CAAClC;gBACtB,QAAQ;YACV,CAAC;YAED,IAAI,CAAC0B,QAAQ,CAACQ,GAAG,CAAClC;YAClB,CAAA,8DAAA,IAAI,CAACyB,aAAa,CAACU,SAAS,CAAC3E,gBAAgB,CAACwC,IAAI,CAAC,CAACoC,QAAQ,YAA5D,KAAA,IAAA,4DAA8DL;QAChE;IACF;IAEOM,cAAcC,WAA0C,EAAE;QAC/D,IAAI,CAACZ,QAAQ,CAACQ,GAAG,CAACI;IACpB;IAEOC,aAAaP,eAAqC,EAAE,EAAE;QAC3D,MAAMQ,UAAgC,EAAE;QACxC,KAAK,MAAMxC,OAAOgC,aAAc;YAC9B,IAAI,CAACN,QAAQ,CAACe,MAAM,CAACzC;YAErB,IAAI,IAAI,CAAC4B,YAAY,CAACK,GAAG,CAACjC,MAAM;gBAC9BwC,QAAQE,IAAI,CAAC1C;gBACb,IAAI,CAAC4B,YAAY,CAACa,MAAM,CAACzC;YAC3B,CAAC;QACH;QACA,IAAI,CAAC+B,UAAU,CAACS;IAClB;IAEOG,YAAYL,WAA0C,EAAE;QAC7D,OAAO,IAAI,CAACV,YAAY,CAACK,GAAG,CAACK;IAC/B;AACF;AAEA,SAASM,uBACP7B,OAA4D,EAC5D8B,cAAsB,EACtB;IACA/E,OAAOD,IAAI,CAACkD,SAAS+B,OAAO,CAAC,CAACC,WAAa;QACzC,MAAMC,YAAYjC,OAAO,CAACgC,SAAS;QACnC,MAAM,EAAEE,eAAc,EAAEC,OAAM,EAAEC,QAAO,EAAEC,WAAU,EAAE,GAAGJ;QAExD,+CAA+C;QAC/C,IAAIA,UAAUK,IAAI,KAlIpB5C,GAkIiD;YAC7C;QACF,CAAC;QAED,8DAA8D;QAC9D,uEAAuE;QACvE,IACEpD,qBAAqB+F,eACrBjG,8BAA8BiG,aAC9B;YACA;QACF,CAAC;QAED,IAAID,SACF,6CAA6C;QAC7C;QAEF,4DAA4D;QAC5D,0CAA0C;QAC1C,IAAID,WAAW5C,OAAO;QAEtB,0EAA0E;QAC1E,kFAAkF;QAClF,+DAA+D;QAC/D,IACEe,sBAAsBiC,QAAQ,CAACP,aAC/BzB,+BAA+BgC,QAAQ,CAACP,WAExC;QAEF,IAAIE,kBAAkBM,KAAKC,GAAG,KAAKP,iBAAiBJ,gBAAgB;YAClE9B,OAAO,CAACgC,SAAS,CAACI,OAAO,GAAG,IAAI;QAClC,CAAC;IACH;AACF;AAEA,0CAA0C;AAC1C,SAASM,uBAAuBxE,IAAY,EAAE;IAC5C,IAAI;QACF,OAAOpC,kBAAkBoC;IAC3B,EAAE,OAAOyE,KAAK;QACZC,QAAQC,KAAK,CAACF;QACd,MAAM,IAAIpG,kBAAkB2B,MAAK;IACnC;AACF;AAEA;;;;;;;;;CASC,GACD,eAAe4E,iBACbC,OAAe,EACf7E,IAAY,EACZ8E,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACf;IACA,MAAMC,qBAAqBT,uBAAuBxE;IAClD,IAAIkF,WAA0B,IAAI;IAElC,MAAMC,oBAAoBlH,0BAA0BgH;IACpD,IAAI9G,iBAAiB8G,uBAAuBE,mBAAmB;QAC7DD,WAAW,MAAM5H,aACfuH,SACAI,oBACAH,YACA,KAAK;QAGP,IAAI,CAACI,UAAU;YACb,MAAM,IAAI7G,kBAAkB4G,oBAAmB;QACjD,CAAC;QAED,MAAMG,UAAUvH,mBACdC,mBAAmBH,iBAAiBuH,WAAW;YAC7CJ;QACF;QAGF,IAAIX,aAAac;QACjB,IAAII,UAAU3H,MAAM4H,SAAS,CAACF;QAE9B,IAAID,mBAAmB;YACrBhB,aAAaA,WAAWlE,OAAO,CAAC,QAAQ;YACxCoF,UAAUrF,KAAKC,OAAO,CAAC,QAAQ;QACjC,CAAC;QAED,OAAO;YACLsF,kBAAkB9H,KAAKoH,SAASK;YAChCf,YAAYA,WAAW3E,KAAK,CAAC;YAC7BQ,MAAMqF;QACR;IACF,CAAC;IAED,8CAA8C;IAC9C,IAAIL,QAAQ;QACVE,WAAW,MAAM5H,aAAa0H,QAAQC,oBAAoBH,YAAY,IAAI;QAC1E,IAAII,UAAU;YACZ,MAAME,UAAUvH,mBACdC,mBAAmBH,iBAAiBuH,WAAW;gBAC7CM,WAAW,IAAI;gBACfV;YACF;YAGF,OAAO;gBACLS,kBAAkB9H,KAAKuH,QAAQE;gBAC/Bf,YAAYzG,MAAMD,IAAI,CAAC,OAAO2H;gBAC9BpF,MAAMtC,MAAM4H,SAAS,CAACF;YACxB;QACF,CAAC;IACH,CAAC;IAED,IAAI,CAACF,YAAYH,UAAU;QACzBG,WAAW,MAAM5H,aACfyH,UACAE,oBACAH,YACA,KAAK;IAET,CAAC;IAED,IAAII,aAAa,IAAI,IAAIH,UAAU;QACjC,MAAMK,UAAUvH,mBACdC,mBAAmBH,iBAAiBuH,WAAW;YAC7CJ;QACF;QAGF,OAAO;YACLS,kBAAkB9H,KAAKsH,UAAUG;YACjCf,YAAYzG,MAAMD,IAAI,CAAC,SAASG,kBAAkBwH;YAClDpF,MAAMtC,MAAM4H,SAAS,CAACF;QACxB;IACF,CAAC;IAED,IAAIpF,SAAS,WAAW;QACtB,OAAO;YACLuF,kBAAkBE,QAAQC,OAAO,CAAC;YAClCvB,YAAYnE;YACZA,MAAMrC,iBAAiBqC;QACzB;IACF,OAAO;QACL,MAAM,IAAI3B,kBAAkB4G,oBAAmB;IACjD,CAAC;AACH;AAEA,eAAeU,kBACbd,OAAe,EACf7E,IAAY,EACZ8E,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACfY,KAAkB,EACmB;IACrC,IAAIA,OAAO;QACT,yEAAyE;QACzE,cAAc;QACd,OAAO;YACLL,kBAAkBK,MAAMC,UAAU,CAACC,QAAQ;YAC3C9F,MAAM4F,MAAMC,UAAU,CAAC7F,IAAI;YAC3BmE,YAAYyB,MAAMC,UAAU,CAAC1B,UAAU;QACzC;IACF,CAAC;IAED,OAAOS,iBAAiBC,SAAS7E,MAAM8E,YAAYC,UAAUC;AAC/D;AAEA,OAAO,SAASe,qBAAqB,EACnCnC,eAAc,EACdpB,cAAa,EACbwD,WAAU,EACVC,kBAAiB,EACjBlB,SAAQ,EACRF,QAAO,EACPG,OAAM,EASP,EAAE;IACD,IAAIkB,iBAA8BhE,eAChCM,cAAc2D,UAAU;IAE1B,IAAIC,aAAavE,WAAWW,cAAc2D,UAAU;IAEpD,IAAI,CAACD,gBAAgB;QACnBA,iBAAiB,IAAI5D,YAAYE;QACjCP,aAAaD,GAAG,CAACQ,cAAc2D,UAAU,EAAED;IAC7C,CAAC;IAED,MAAM9C,gBAAgB,CAACiD,cAAqC;QAC1D,MAAMC,kBAAkBD,YAAYE,IAAI;QACxCL,eAAe9C,aAAa,CAACkD;IAC/B;IACA,KAAK,MAAME,YAAYhE,cAAcU,SAAS,CAAE;QAC9CsD,SAASC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,yBAAyBvD;IACnD;IAEA,SAASwD,4BACPxC,IAAwB,EACxByC,WAA2C,EAC3CC,IAAc,EACd;QACA,MAAMC,YAAsB,EAAE;QAC9B,KAAK,MAAMC,cAAcH,YAAYI,MAAM,GAAI;YAC7C,MAAMjH,OAAOhC,uBAAuBgJ,WAAWT,IAAI,EAAGO;YAEtD,IAAI9G,MAAM;oBACegH;gBAAvB,MAAMjH,iBAAiBiH,CAAAA,CAAAA,mBAAAA,WAAWT,IAAI,YAAfS,KAAAA,IAAAA,iBAAiB3H,WAAW,WAC/C,QACA,OAAO;gBACX0H,UAAUtD,IAAI,CAAC5D,YAAYuE,MAAMrE,gBAAgBC;YACnD,OAAO,IACL,AAAC8G,QAAQE,WAAWT,IAAI,KAAK,UAC7BnI,qBAAqB4I,WAAWT,IAAI,KACpCrI,8BAA8B8I,WAAWT,IAAI,GAC7C;gBACAQ,UAAUtD,IAAI,CAAC5D,YAAYuE,MAAM,QAAQ,CAAC,CAAC,EAAE4C,WAAWT,IAAI,CAAC,CAAC;YAChE,CAAC;QACH;QACA,OAAOQ;IACT;IAEA,KAAK,MAAMP,YAAYhE,cAAcU,SAAS,CAAE;QAC9CsD,SAASC,KAAK,CAACS,IAAI,CAACP,GAAG,CAAC,yBAAyB;gBAC/CzE;YAAAA,OAAAA,CAAAA,kBAAAA,eAAesE,SAASL,UAAU,aAAlCjE,KAAAA,IAAAA,gBAAqCoB,aAAa;gBAChDkD,SAASD,IAAI;aACd;;IAEL;IAEA/D,cAAciE,KAAK,CAACS,IAAI,CAACP,GAAG,CAAC,yBAAyB,CAACQ,aAAe;YAqCpEjF;QApCA,MAAM,CAACkF,aAAaC,aAAaC,gBAAgB,GAAGH,WAAWI,KAAK;QACpE,MAAMT,OAAO,CAAC,CAAC9B;QACf,MAAMwC,aAAa;eACdZ,4BACDpI,eAAeiJ,MAAM,EACrBL,YAAYf,WAAW,CAACQ,WAAW,EACnCC;eAECF,4BACDpI,eAAekJ,MAAM,EACrBL,YAAYhB,WAAW,CAACQ,WAAW,EACnCC;eAEEQ,kBACAV,4BACEpI,eAAemJ,UAAU,EACzBL,gBAAgBjB,WAAW,CAACQ,WAAW,EACvCC,QAEF,EAAE;SACP;QAED,KAAK,MAAMP,QAAQiB,WAAY;YAC7B,MAAMI,QAAQxB,UAAU,CAACG,KAAK;YAC9B,IAAI,CAACqB,OAAO;gBACV,QAAQ;YACV,CAAC;YAED,IAAIA,MAAM3D,MAAM,KAAK7C,UAAU;gBAC7B,QAAQ;YACV,CAAC;YAEDwG,MAAM3D,MAAM,GAAG5C;YACfc,cAAc0F,IAAI,CAACtB;QACrB;QAEArE,CAAAA,kBAAAA,eAAeM,cAAc2D,UAAU,aAAvCjE,KAAAA,IAAAA,gBAA0CoB,aAAa;eAAIxE;SAAc;IAC3E;IAEA,MAAMgJ,mBAAmBC,KAAKC,GAAG,CAAC,MAAMD,KAAKE,GAAG,CAAC,MAAMrE;IAEvDsE,YAAY,WAAY;QACtBvE,uBAAuByC,YAAYxC;IACrC,GAAGkE,mBAAmB,MAAMK,KAAK;IAEjC,SAASC,iBACP/H,IAAuB,EACgB;QACvC,MAAMgI,QAAQjI,uBAAuBC,MAAM,IAAI;QAC/C,IAAIiI,SAAgD;YAAEC,SAAS,IAAI;QAAC;QAEpE,KAAK,MAAMvI,QAAQqI,MAAO;YACxB,KAAK,MAAMvI,gBAAgB;gBACzBtB,eAAeiJ,MAAM;gBACrBjJ,eAAekJ,MAAM;gBACrBlJ,eAAemJ,UAAU;aAC1B,CAAE;gBACD,MAAM7D,WAAWjE,YAAYC,cAAc,OAAO,CAAC,CAAC,EAAEE,KAAK,CAAC;gBAC5D,MAAMwI,YAAYpC,UAAU,CAACtC,SAAS;gBAEtC,8EAA8E;gBAC9E,IAAI,CAAC0E,WAAW;oBAEd,QAAQ;gBACV,CAAC;gBAED,8EAA8E;gBAC9E,IAAIA,UAAUvE,MAAM,KAAK5C,OAAO,QAAQ;gBAExC,0BAA0B;gBAC1B,IAAI,CAACgB,+BAA+BgC,QAAQ,CAACP,WAAW;oBACtDzB,+BAA+BoG,OAAO,CAAC3E;oBAEvC,iCAAiC;oBACjC,yGAAyG;oBACzG,IAAIzB,+BAA+B/C,MAAM,GAAG2G,mBAAmB;wBAC7D5D,+BAA+BqG,GAAG;oBACpC,CAAC;gBACH,CAAC;gBACDF,UAAUxE,cAAc,GAAGM,KAAKC,GAAG;gBACnCiE,UAAUtE,OAAO,GAAG,KAAK;gBACzBoE,SAAS;oBAAEK,SAAS,IAAI;gBAAC;YAC3B;QACF;QAEA,OAAOL;IACT;IAEA,SAASM,WAAWC,EAAU,EAAE;QAC9B,MAAM7I,OAAOrC,iBAAiBkL;QAC9B,IAAIP,SAAgD;YAAEC,SAAS,IAAI;QAAC;QAEpE,KAAK,MAAMzI,gBAAgB;YACzBtB,eAAeiJ,MAAM;YACrBjJ,eAAekJ,MAAM;YACrBlJ,eAAemJ,UAAU;SAC1B,CAAE;YACD,MAAM7D,WAAWjE,YAAYC,cAAc,SAASE;YACpD,MAAMwI,YAAYpC,UAAU,CAACtC,SAAS;YAEtC,8EAA8E;YAC9E,IAAI,CAAC0E,WAAW;gBACd,sEAAsE;gBACtE,IAAI1I,iBAAiBtB,eAAeiJ,MAAM,EAAE;oBAC1C,OAAO;wBAAEc,SAAS,IAAI;oBAAC;gBACzB,CAAC;gBACD,QAAQ;YACV,CAAC;YAED,qFAAqF;YACrFD,SAAStI,SAAS,YAAY;gBAAEuI,SAAS,IAAI;YAAC,IAAI;gBAAEI,SAAS,IAAI;YAAC,CAAC;YAEnE,8EAA8E;YAC9E,IAAIH,UAAUvE,MAAM,KAAK5C,OAAO,QAAQ;YAExC,0BAA0B;YAC1B,IAAI,CAACe,sBAAsBiC,QAAQ,CAACP,WAAW;gBAC7C1B,sBAAsBqG,OAAO,CAAC3E;gBAE9B,iCAAiC;gBACjC,IAAI1B,sBAAsB9C,MAAM,GAAG2G,mBAAmB;oBACpD7D,sBAAsBsG,GAAG;gBAC3B,CAAC;YACH,CAAC;YACDF,UAAUxE,cAAc,GAAGM,KAAKC,GAAG;YACnCiE,UAAUtE,OAAO,GAAG,KAAK;QAC3B;QACA,OAAOoE;IACT;IAEA,eAAeQ,eAAe,EAC5B9I,KAAI,EACJ+I,WAAU,EACVC,UAAW,IAAI,CAAA,EACfpD,MAAK,EAMN,EAAiB;QAChB,MAAMqD,cAAc;QACpB,MAAMC,uBAAuBC,WAAW,IAAM;YAC5CxK,MACE,CAAC,SAAS,EAAEqB,KAAK,uBAAuB,EAAEiJ,YAAY,+CAA+C,CAAC;QAE1G,GAAGA,cAAc;QAEjB,yEAAyE;QACzE,+DAA+D;QAC/D,IAAIrD,CAAAA,gBAAAA,KAAAA,IAAAA,MAAOC,UAAU,CAACuD,IAAI,MAAK1K,UAAU2K,QAAQ,EAAE;YACjD,MAAM,EAAExD,YAAYyD,MAAK,EAAE,GAAG1D;YAC9BoD,WAAWM,MAAMN,QAAQ;QAC3B,CAAC;QAED,IAAI;YACF,MAAMO,eAAe,MAAM5D,kBACzBd,SACA7E,MACAgG,WAAWwD,cAAc,EACzBzE,UACAC,QACAY;YAGF,MAAM6D,iBACJ,CAAC,CAACzE,UAAUuE,aAAahE,gBAAgB,CAAClG,UAAU,CAAC2F;YAEvD,MAAMjF,iBAAiBG,kBAAkBqJ,aAAapF,UAAU;YAChE,MAAMuF,WAAW,CACf5J,eAKG;gBACH,MAAMgE,WAAWjE,YACfC,cACAC,gBACAwJ,aAAavJ,IAAI;gBAEnB,IACEoG,UAAU,CAACtC,SAAS,IACpB,sGAAsG;gBACtG,4HAA4H;gBAC5H,+FAA+F;gBAC/F,CAAC5F,8BAA8BkI,UAAU,CAACtC,SAAS,CAACK,UAAU,GAC9D;oBACAiC,UAAU,CAACtC,SAAS,CAACI,OAAO,GAAG,KAAK;oBACpCkC,UAAU,CAACtC,SAAS,CAACE,cAAc,GAAGM,KAAKC,GAAG;oBAC9C,IAAI6B,UAAU,CAACtC,SAAS,CAACG,MAAM,KAAK5C,OAAO;wBACzC,OAAO;4BACLyC;4BACA6F,UAAU,KAAK;4BACfC,kBAAkB,KAAK;wBACzB;oBACF,CAAC;oBAED,OAAO;wBACL9F;wBACA6F,UAAU,KAAK;wBACfC,kBAAkB,IAAI;oBACxB;gBACF,CAAC;gBAEDxD,UAAU,CAACtC,SAAS,GAAG;oBACrBM,MApkBR7C;oBAqkBQyH;oBACAzD,kBAAkBgE,aAAahE,gBAAgB;oBAC/CsE,SAASN,aAAahE,gBAAgB;oBACtCpB,YAAYoF,aAAapF,UAAU;oBACnCD,SAAS,KAAK;oBACdF,gBAAgBM,KAAKC,GAAG;oBACxBN,QAAQ/C;gBACV;gBACA,OAAO;oBACL4C,UAAUA;oBACV6F,UAAU,IAAI;oBACdC,kBAAkB,IAAI;gBACxB;YACF;YAEA,MAAME,aAAa,MAAMvM,8BAA8B;gBACrDyC;gBACA+J,cAAcR,aAAahE,gBAAgB;gBAC3CkE;gBACAD,gBAAgBxD,WAAWwD,cAAc;gBACzCQ,OAAO,IAAI;gBACXC,QAAQjE;gBACRhB;YACF;YAEA,MAAMkF,QAAQ,IAAIxI;YAClB,MAAMyI,oBACJV,kBAAkBK,WAAWM,GAAG,KAAK3L,iBAAiBgJ,MAAM;YAE9DjK,uBAAuB;gBACrBwC,MAAMuJ,aAAavJ,IAAI;gBACvBqK,aAAaP,WAAWQ,OAAO;gBAC/BC,UAAUxK;gBACVyK,UAAU,IAAM;oBACd,4DAA4D;oBAC5D,IAAIL,qBAAqBV,gBAAgB;wBACvC;oBACF,CAAC;oBACDS,MAAMlI,GAAG,CAACxD,eAAeiJ,MAAM,EAAEiC,SAASlL,eAAeiJ,MAAM;gBACjE;gBACAgD,UAAU,IAAM;oBACdP,MAAMlI,GAAG,CAACxD,eAAekJ,MAAM,EAAEgC,SAASlL,eAAekJ,MAAM;oBAC/D,MAAMgD,kBAAkB7K,YACtBrB,eAAemJ,UAAU,EACzB5H,gBACAwJ,aAAavJ,IAAI;oBAEnB,IACEoG,UAAU,CAACsE,gBAAgB,IAC3B,CAACzM,0BAA0BsL,aAAavJ,IAAI,GAC5C;wBACA,uCAAuC;wBACvC,OAAOoG,UAAU,CAACsE,gBAAgB;oBACpC,CAAC;gBACH;gBACAC,cAAc,IAAM;oBAClBT,MAAMlI,GAAG,CACPxD,eAAemJ,UAAU,EACzB+B,SAASlL,eAAemJ,UAAU;oBAEpC,MAAMiD,cAAc/K,YAClBrB,eAAekJ,MAAM,EACrB3H,gBACAwJ,aAAavJ,IAAI;oBAEnB,IACEoG,UAAU,CAACwE,YAAY,IACvB,CAAC3M,0BAA0BsL,aAAavJ,IAAI,GAC5C;wBACA,uCAAuC;wBACvC,OAAOoG,UAAU,CAACwE,YAAY;oBAChC,CAAC;gBACH;YACF;YAEA,MAAMC,cAAc;mBAAIX,MAAMjD,MAAM;aAAG;YACvC,MAAM6D,iCAAiC;mBAAIZ,MAAMpI,OAAO;aAAG,CAACiJ,MAAM,CAChE,CAAC,GAAGnD,MAAM,GAAKA,MAAMgC,gBAAgB;YAEvC,MAAMoB,cAAcH,YAAYI,IAAI,CAAC,CAACrD,QAAUA,MAAM+B,QAAQ;YAE9D,IAAIqB,aAAa;gBACfjN,cACE,CAACgL,cAAciC,cACX,CAAC,EAAEzB,aAAavJ,IAAI,CAAC,oBAAoB,CAAC,GAC1CuJ,aAAavJ,IAAI;YAEzB,CAAC;YAED,IAAI8K,+BAA+BxL,MAAM,GAAG,GAAG;gBAC7C,MAAM4L,oBAAoBC,QAAQC,GAAG,CACnCN,+BAA+BO,GAAG,CAAC,CAAC,CAAChI,aAAa,EAAES,SAAQ,EAAE,CAAC,GAAK;oBAClE,OAAO,IAAIqH,QAAc,CAACzF,SAAS4F,SAAW;wBAC5CnJ,cAAcoJ,IAAI,CAACzH,UAAU,CAACW,MAAe;4BAC3C,IAAIA,KAAK;gCACP,OAAO6G,OAAO7G;4BAChB,CAAC;4BAED,0DAA0D;4BAC1D,6DAA6D;4BAC7D,MAAM+G,eAAetF,eAAexC,WAAW,CAACL;4BAChD,IAAImI,cAAc;gCAChBrJ,cAAcoJ,IAAI,CAACzH,UAAU,CAAC2H,aAAsB;oCAClD,IAAIA,YAAY;wCACd,OAAOH,OAAOG;oCAChB,CAAC;oCACD/F;gCACF;4BACF,OAAO;gCACLA;4BACF,CAAC;wBACH;oBACF;gBACF;gBAGFQ,eAAepD,UAAU,CAAC;uBAAIoH,MAAMtL,IAAI;iBAAG;gBAC3C,MAAMsM;YACR,CAAC;QACH,SAAU;YACRQ,aAAaxC;QACf;IACF;IAEA,4EAA4E;IAC5E,MAAMyC,gBAAgB,IAAIjK;IAE1B,OAAO;QACL,MAAMkK,YAAW,EACf5L,KAAI,EACJ+I,WAAU,EACVC,UAAW,IAAI,CAAA,EACfpD,MAAK,EAMN,EAAE;YACD,IAAI+F,cAAc3I,GAAG,CAAChD,OAAO;gBAC3B,OAAO2L,cAAc5J,GAAG,CAAC/B;YAC3B,CAAC;YACD,MAAM6L,UAAU/C,eAAe;gBAC7B9I;gBACA+I;gBACAC;gBACApD;YACF,GAAGkG,OAAO,CAAC,IAAM;gBACfH,cAAcnI,MAAM,CAACxD;YACvB;YACA2L,cAAc3J,GAAG,CAAChC,MAAM6L;YAExB,MAAMA;QACR;QACAE,OAAMtE,MAAU,EAAEuE,iBAAqC,EAAE;YACvD,IAAIC,yBAAuC,IAAI;YAE/CxE,OAAOyE,gBAAgB,CAAC,SAAS,IAAM;gBACrCD,yBAAyB,IAAI;YAC/B;YACAxE,OAAOyE,gBAAgB,CAAC,WAAW,CAAC,EAAEC,KAAI,EAAE,GAAK;gBAC/C,IAAI;oBACF,MAAMxH,QAAQqH;oBAEd,uEAAuE;oBACvE,IAAI,CAACC,0BAA0BtH,OAAO;wBACpC8C,OAAO2E,IAAI,CACTC,KAAKC,SAAS,CAAC;4BACbC,OAAO;4BACPC,QAAQ;4BACRC,WAAWnO,eAAeqG;wBAC5B;wBAEFsH,yBAAyB,IAAI;oBAC/B,CAAC;oBAED,MAAMS,aAAaL,KAAKM,KAAK,CAC3B,OAAOR,SAAS,WAAWA,KAAKS,QAAQ,KAAKT,IAAI;oBAGnD,IAAIO,WAAWH,KAAK,KAAK,QAAQ;wBAC/B,MAAMM,SAASH,WAAWI,WAAW,GACjC1E,iBAAiBsE,WAAWrM,IAAI,IAChCuI,WAAW8D,WAAW1M,IAAI,CAAC;wBAC/ByH,OAAO2E,IAAI,CACTC,KAAKC,SAAS,CAAC;4BACb,GAAGO,MAAM;4BACT,CAACH,WAAWI,WAAW,GAAG,WAAW,OAAO,CAAC,EAAE;wBACjD;oBAEJ,CAAC;gBACH,EAAE,OAAOC,GAAG,CAAC;YACf;QACF;IACF;AACF,CAAC"}
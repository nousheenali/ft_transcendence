{"version":3,"sources":["../../../src/build/swc/index.ts"],"names":["platformArchTriples","path","pathToFileURL","platform","arch","Log","getParserOptions","eventSwcLoadFailure","patchIncorrectLockfile","downloadWasmSwc","downloadNativeNextSwc","spawn","isDeepStrictEqual","nextVersion","process","env","__NEXT_VERSION","ArchName","PlatformName","triples","infoLog","args","NEXT_PRIVATE_BUILD_WORKER","info","__INTERNAL_CUSTOM_TURBOPACK_BINARY","__INTERNAL_CUSTOM_TURBOPACK_BINDINGS","__isCustomTurbopackBinary","Error","checkVersionMismatch","pkgData","version","warn","knownDefaultWasmFallbackTriples","lastNativeBindingsLoadErrorCode","undefined","nativeBindings","wasmBindings","downloadWasmPromise","pendingBindings","swcTraceFlushGuard","swcHeapProfilerFlushGuard","swcCrashReporterFlushGuard","downloadNativeBindingsPromise","lockfilePatchPromise","loadBindings","isCustomTurbopack","Promise","resolve","_reject","cur","cwd","catch","console","error","attempts","disableWasmFallback","NEXT_DISABLE_SWC_WASM","shouldLoadWasmFallbackFirst","some","triple","raw","includes","fallbackBindings","tryLoadWasmWithFallback","loadNative","a","Array","isArray","every","m","tryLoadNativeWithFallback","concat","logLoadFailure","nativeBindingsDirectory","join","dirname","require","map","platformArchABI","bindings","loadWasm","wasm","nativeBindingsErrorCode","wasmDirectory","href","attempt","loadBindingsSync","loggingLoadFailure","triedWasm","then","finally","exit","bindingToApi","binding","_wasm","invariant","never","computeMessage","withErrorCause","fn","nativeError","message","cause","subscribe","useBuffer","nativeFunction","buffer","waiting","emitResult","err","value","reject","item","push","task","length","shift","rootTaskDispose","rustifyProjectOptions","options","nextConfig","serializeNextConfig","Object","entries","name","ProjectImpl","constructor","nativeProject","_nativeProject","update","projectUpdate","entrypointsSubscribe","subscription","callback","projectEntrypointsSubscribe","entrypoints","routes","Map","pathname","nativeRoute","route","type","htmlEndpoint","EndpointImpl","dataEndpoint","endpoint","rscEndpoint","set","napiMiddlewareToMiddleware","middleware","runtime","matcher","issues","diagnostics","nativeEndpoint","_nativeEndpoint","writeToDisk","endpointWriteToDisk","changed","iter","endpointChangedSubscribe","next","nextConfigSerializable","generateBuildId","exportPathMap","webpack","experimental","turbo","loaders","ensureLoadersHaveSerializableOptions","JSON","stringify","turbopackLoaders","ext","loaderItems","loaderItem","parse","loader","createProject","turboEngineOptions","projectNew","importPath","pkg","pkgPath","default","isWasm","transform","src","toString","transformSync","minify","minifySync","parseSync","astStr","getTargetTriple","startDev","devOptions","noOpen","startTurboDev","toBuffer","startTrace","stream","turboTasks","rootDir","applicationDir","pageExtensions","callbackFn","streamEntrypoints","get","getEntrypoints","mdx","compile","mdxCompile","compileSync","mdxCompileSync","e","code","customBindings","isModule","Buffer","isBuffer","jsc","parser","syntax","initCustomTraceSubscriber","teardownTraceSubscriber","initHeapProfiler","teardownHeapProfiler","teardownCrashReporter","forEach","key","cli_key","replace","toLowerCase","child","stdio","on","log","stdout","data","stderr","command","kill","nextBuild","ret","runTurboTracing","exact","createTurboTasks","memoryLimit","t","from","parserOptions","getBinaryMetadata","target","traceFileName","_","flushed"],"mappings":"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"}